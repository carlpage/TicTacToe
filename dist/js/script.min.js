"use strict";var _slicedToArray=function(){function e(e,r){var n=[],t=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(t=(c=a.next()).done)&&(n.push(c.value),!r||n.length!==r);t=!0);}catch(e){o=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(document).ready(function(){function e(){document.querySelector(".endGame").style.display="none",f=Array.from(Array(9).keys());for(var e=0;e<v.length;e++)v[e].innerText="",v[e].style.removeProperty("background-color"),v[e].addEventListener("click",r,!1)}function r(e){"number"==typeof f[e.target.id]&&(n(e.target.id,d),l()||n(a(),y))}function n(e,r){f[e]=r,document.getElementById(e).innerText=r;var n=t(f,r);n&&o(n)}function t(e,r){var n=e.reduce(function(e,n,t){return n===r?e.concat(t):e},[]),t=null,o=!0,i=!1,c=void 0;try{for(var a,l=s.entries()[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var u=a.value,f=_slicedToArray(u,2),d=f[0];if(f[1].every(function(e){return n.indexOf(e)>-1})){t={index:d,player:r};break}}}catch(e){i=!0,c=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw c}}return t}function o(e){var n=!0,t=!1,o=void 0;try{for(var c,a=s[e.index][Symbol.iterator]();!(n=(c=a.next()).done);n=!0){var l=c.value;document.getElementById(l).style.backgroundColor=e.player==d?"blue":"red"}}catch(e){t=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(t)throw o}}for(var u=0;u<v.length;u++)v[u].removeEventListener("click",r,!1);i(e.player==d?"You Win!":"You Lose.")}function i(e){document.querySelector(".endGame").style.display="block",document.querySelector(".endGame .text").innerText=e}function c(){return f.filter(function(e){return"number"==typeof e})}function a(){return u(f,y).index}function l(){if(0==c().length){for(var e=0;e<v.length;e++)v[e].backgoundColor="green",v[e].removeEventListener("click",r,!1);return i("Tie Game!"),!0}return!1}function u(e,r){var n=c(e);if(t(e,r))return{score:-10};if(t(e,y))return{score:20};if(0===n.length)return{score:0};for(var o=[],i=0;i<n.length;i++){var a={};if(a.index=e[n[i]],e[n[i]]=r,r==y){var l=u(e,d);a.score=l.score}else{var f=u(e,y);a.score=f.score}e[n[i]]=a.index,o.push(a)}var s=void 0;if(r===y)for(var v=-1e4,m=0;m<o.length;m++)o[m].score>v&&(v=o[m].score,s=m);else for(var h=1e4,b=0;b<o.length;b++)o[b].score<h&&(h=o[b].score,s=b);return o[s]}var f=void 0,d=void 0,y=void 0,s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[2,4,6],[0,4,8]],v=$(".cell");$(".O").on("click",function(){d="O",y="X",$(".chooseMarker").hide(),$("table").css("display","table"),e()}),$(".X").on("click",function(){d="X",y="O",$(".chooseMarker").hide(),$("table").css("display","table"),e()}),$(".replay").on("click",function(){e()})});