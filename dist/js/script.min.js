"use strict";var _slicedToArray=function(){function e(e,r){var n=[],t=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(e){o=!0,i=e}finally{try{!t&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(document).ready(function(){function e(){document.querySelector(".endGame").style.display="none",f=Array.from(Array(9).keys());for(var e=0;e<s.length;e++)s[e].innerText="",s[e].style.removeProperty("background-color"),s[e].addEventListener("click",r,!1)}function r(e){"number"==typeof f[e.target.id]&&(n(e.target.id,y),u()||n(c(),d))}function n(e,r){f[e]=r,document.getElementById(e).innerText=r;var n=t(f,r);n&&o(n)}function t(e,r){var n=e.reduce(function(e,n,t){return n===r?e.concat(t):e},[]),t=null,o=!0,i=!1,a=void 0;try{for(var c,u=v.entries()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,f=_slicedToArray(l,2),y=f[0];if(f[1].every(function(e){return n.indexOf(e)>-1})){t={index:y,player:r};break}}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return t}function o(e){var n=!0,t=!1,o=void 0;try{for(var a,c=v[e.index][Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var u=a.value;document.getElementById(u).style.backgroundColor=e.player==y?"blue":"red"}}catch(e){t=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(t)throw o}}for(var l=0;l<s.length;l++)s[l].removeEventListener("click",r,!1);i(e.player==y?"You Win!":"You Lose.")}function i(e){document.querySelector(".endGame").style.display="block",document.querySelector(".endGame .text").innerText=e}function a(){return f.filter(function(e){return"number"==typeof e})}function c(){return l(f,d).index}function u(){if(0==a().length){for(var e=0;e<s.length;e++)s[e].backgoundColor="green",s[e].removeEventListener("click",r,!1);return i("Tie Game!"),!0}return!1}function l(e,r){var n=a(e);if(t(e,r))return{score:-10};if(t(e,d))return{score:20};if(0===n.length)return{score:0};for(var o=[],i=0;i<n.length;i++){var c={};if(c.index=e[n[i]],e[n[i]]=r,r==d){var u=l(e,y);c.score=u.score}else{var f=l(e,d);c.score=f.score}e[n[i]]=c.index,o.push(c)}var v=void 0;if(r===d)for(var s=-1e4,m=0;m<o.length;m++)o[m].score>s&&(s=o[m].score,v=m);else for(var h=1e4,g=0;g<o.length;g++)o[g].score<h&&(h=o[g].score,v=g);return o[v]}var f,y="O",d="X",v=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[2,4,6],[0,4,8]],s=$(".cell");e(),$(".replay").on("click",function(){e()})});